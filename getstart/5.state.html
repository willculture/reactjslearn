<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="https://unpkg.com/react@15/dist/react.js"></script>
  <script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        /**
        *  1。 state 对象不能直接修改
           2.  state 是异步更新
           3.  state 合并
        */
         class Clock extends React.Component {
              constructor(props) {
                 //Wrong
                 //this.state.comment = 'Hello';

                 //==> Correct
                 this.setState({ comment: "hello"});


                 //改变自身
                 //错误
                /* this.setState ({
                   counter: this.state.counter + this.props.increment
                 });
                 //==>正确
                 this.setState(function(prestate, props) {
                     return {
                       counter: prestate.counter + props.increment
                     };
                 });*/
                 //=>简写
                 this.setState((prestate, props) => ({
                    counter: prestate.counter + props.increment
                 }))
              }

              render () {
                return (
                  <h1> Clock </h1>
                );
              }
         }
    </script>
</body>
</html>
